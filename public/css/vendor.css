:root{
  --border:#e5e7eb;--muted:#6b7280;--fg:#0f172a;--bg:#f8fafc;--white:#fff;
  --accent:#047857;--accent-weak:#ecfdf5;--warn:#dc2626;--ok:#065f46;--yellow:#f59e0b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',Arial}

.wrap{padding:14px;display:grid;gap:14px}
.hidden{display:none}

.card{background:#fff;border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 1px 2px rgba(0,0,0,.03)}
.card-hd{padding:12px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:8px}
.card-ttl{font-weight:700;color:var(--accent)}
.card-sub{font-size:12px;color:var(--muted)}
.card-bd{padding:16px}

.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.kpi{border:1px solid var(--border);border-radius:14px;padding:12px;background:var(--accent-weak)}
.kpi .v{font-size:20px;font-weight:800;color:var(--ok)}

grid-2{display:grid;grid-template-columns:1fr;gap:14px}
@media(min-width:980px){.grid-2{grid-template-columns:1fr 1fr}}
.grid-auto{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}

.table{width:100%;border-collapse:collapse;font-size:12px}
.table th,.table td{padding:8px;border-top:1px solid var(--border);text-align:left;vertical-align:top}
.table thead tr{border-bottom:1px solid var(--border)}

.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:10px;margin-right:6px;border:1px solid var(--border)}
.badge.new{background:#eef2ff;color:#3730a3;border-color:#c7d2fe}
.badge-expire{background:#fff7ed;color:#9a3412;border-color:#fed7aa}
.badge-danger{background:#fef2f2;color:#b91c1c;border-color:#fecaca}

.small{font-size:12px;color:var(--muted)}

.input,.select,textarea{border:1px solid var(--border);border-radius:10px;padding:8px 10px;font-size:13px;background:#fff}

.btn{padding:8px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;cursor:pointer;font-size:12px}
.btn.primary{background:var(--accent-weak);border-color:#a7f3d0;color:var(--ok)}
.btn.warn{background:#fef2f2;border-color:#fecaca;color:#b91c1c}

.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

.toast-wrap{position:fixed;right:12px;bottom:12px;display:flex;flex-direction:column;gap:6px;z-index:50}
.toast{background:var(--accent);color:#fff;padding:8px 12px;border-radius:12px;font-size:12px;box-shadow:0 6px 16px rgba(0,0,0,.15)}

/* timeline */
.timeline{display:flex;gap:8px;align-items:center}
.timeline .dot{width:8px;height:8px;border-radius:50%;background:#d1fae5;border:1px solid #a7f3d0}
.timeline .dot.active{background:#10b981;border-color:#34d399}

.progress{background:#e5e7eb;border-radius:999px;height:8px;overflow:hidden}
.progress>div{height:8px;background:#10b981}

/* mobile table */
.table-wrap{overflow:auto}

/* compact tag list */
.tag{display:inline-block;padding:2px 6px;border:1px solid var(--border);border-radius:8px;font-size:10px;margin:0 4px 4px 0}

/* sticky filters (헤더 높이 고려해 top만 유지) */
.sticky{position:sticky;top:58px;background:#fff;z-index:10;border-bottom:1px dashed var(--border)}

footer{padding:16px;color:var(--muted);text-align:center}

/* ===== Modal overlay: page-scoped to #mdCust, #mdNew only ===== */
#mdCust, #mdNew {
  position: fixed;            /* 화면 고정 */
  inset: 0;                   /* 상하좌우 0 */
  display: none;              /* 기본은 숨김 (JS로 flex 전환) */
  align-items: center;
  justify-content: center;
  z-index: 100000;            /* 테이블/카드 위 */
  background: rgba(0,0,0,.35);
}
#mdCust .panel, #mdNew .panel {
  background: #fff;
  box-shadow: 0 12px 32px rgba(0,0,0,.2);
  border-radius: 16px;
  width: min(1100px, calc(100vw - 40px));
  max-height: 90vh;
  overflow: auto;
}
#mdCust .panel-hd, #mdNew .panel-hd {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  background: #fff;
  z-index: 1;                 /* 스크롤 시 헤더 고정 */
}
#mdCust .panel-bd, #mdNew .panel-bd { padding: 12px 16px 16px; }
#mdCust .close, #mdNew .close { cursor: pointer; padding: 4px 8px; opacity: .8; }

/* 모달이 열릴 때 배경 스크롤 방지 */
body.modal-open { overflow: hidden; }
